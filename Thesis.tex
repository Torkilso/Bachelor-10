%% ----------------------------------------------------------------
%% Thesis.tex -- MAIN FILE (the one that you compile with LaTeX)
%% ---------------------------------------------------------------- 

% Set up the document
\documentclass[a4paper, 11pt, oneside]{Thesis}  % Use the "Thesis" style, based on the ECS Thesis style by Steve Gunn
\graphicspath{Figures/}  % Location of the graphics files (set up for graphics to be in PDF format)

% Include any extra LaTeX packages required

\usepackage{verbatim}  % Needed for the "comment" environment to make LaTeX comments
\usepackage{vector}  % Allows "\bvec{}" and "\buvec{}" for "blackboard" style bold vectors in maths
\usepackage[utf8]{inputenc}
\usepackage{subfiles} % access files in subdirectories
\usepackage{tabularx}
\usepackage{float}
\usepackage{amsmath}
\usepackage{csquotes}
\usepackage{listings}
\usepackage{fixltx2e}
\usepackage[english]{babel}
\usepackage{comment}
\usepackage{tikz}
\usepackage{hyperref}
\usepackage{glossaries}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{pdfpages}
\usepackage{appendix}

\usepackage[
backend=biber,
style=ieee,
maxbibnames=120
]{biblatex}
\newcommand{\bibdirectory}{01_initial_try.bib}
\newcommand{\latex}{\LaTeX\xspace}
\newcommand{\tex}{\TeX\xspace}

%glossary making
\makeglossaries
\input{Appendices/glossary_0.tex}
\addbibresource{\bibdirectory}
\hypersetup{urlcolor=blue, colorlinks=false, linkcolor=black}  % Colours hyperlinks in blue, but this can be distracting if there are many links.

%% ----------------------------------------------------------------

\begin{document}
\frontmatter      % Begin Roman style (i, ii, iii, iv...) page numbering
% Set up the Title Page
\title  {Recognition of handwritten mathematical symbols and expressions}
\authors {Even Dalen, Håvard Langdal and Torkil Solheim}
\addresses  {\groupname\\\deptname\\\univname}  % Do not change this here, instead these must be set in the "Thesis.cls" file, please look through it instead
\date       {\today}
\subject    {}
\keywords   {}

\maketitle
%% ----------------------------------------------------------------


\setstretch{1.3}  % It is better to have smaller font and larger line spacing than the other way round

% Define the page headers using the FancyHdr package and set up for one-sided printing
\fancyhead{}  % Clears all page headers and footers
\rhead{\thepage}  % Sets the right side header to show the page number
\lhead{}  % Clears the left side page header

\pagestyle{fancy}  % Finally, use the "fancy" page style to implement the FancyHdr headers


%% ----------------------------------------------------------------
% The title page
%\includepdf[width=\textwidth, pages=-, width=\textwidth]{Assets/tittelside.pdf}
    


% The preface page
\preface{
\addtocontents{toc}{\vspace{1em}}  % Add a gap in the Contents, for aesthetics

The assignment was chosen for several reasons. We were curious about handwriting recognition, since solutions typically involves artificial intelligence, machine learning and advanced software engineering. These were fields we all were interested in. We had little to no prior experience with machine learning, and expected this to be challenging. However, this made the assignment more interesting as we were motivated to learn and curious about ways to solve the problems related.

Before choosing the assignment, we read about the basics of neural networks and the mathematics behind them. We quickly understood that a lot of the math we have learned in previous courses was relevant, and being able to make use of this knowledge further increased our interest for the assignment.

Although being exciting, the project included many unknown factors. Learning about machine learning while also trying to build a good product was challenging. From early in the project, we found that cooperation was key in order to be productive. Using an agile mindset and following principles from Modern Agile\cite{agile_modern_????} helped dealing with complex subjects through experimentation and collaboration.

First of all, we would like to thank Ole Christian Eidheim for being both an inspiration and our mentor during this project. We would also like to thank our external mentors Tore Forbregd, Trygve Solstad and Hermund Andre Torkildsen for an exciting project and great inputs.

\vfill

\begin{tabularx}{\textwidth}{XXX}
\includegraphics[width=4cm, trim=0 4cm 0 4cm]{Assets/signatures/even.png} & \includegraphics[width=4cm, trim=0 3.5cm 0 3.5cm]{Assets/signatures/haavard.png} & \includegraphics[width=4cm, trim=0 4cm 0 4cm]{Assets/signatures/torkil_sign.png} \tabularnewline
\centering{$\rule{4cm}{0.15mm}$} & \centering{$\rule{4cm}{0.15mm}$} & \centering{$\rule{4cm}{0.15mm}$} \tabularnewline
\centering{Even Dalen} & \centering{Håvard Langdal} & \centering{Torkil Solheim} \\
\end{tabularx}

\centering{\mydate}\\
\centering{Trondheim}

}

\clearpage  % Preface ended, start a new page

%% ----------------------------------------------------------------
% The Assignment page
\assignment{
\addtocontents{toc}{\vspace{1em}}  % Add a gap in the Contents, for aesthetics
\label{assignment_page}
%Erfaring viser at oppgavetekster endres underveis. Dere kan lime inn oppgaveteksten slik den var opprinnelig dersom det fortsatt er i samsvar med virkeligheten. Ellers gjør derekort rede for oppgaven slik den opprinnelig var,og slik den har utviklet seg underveis. Hvorfor ting har blitt som de har blitt, hører kanskje hjemme lenger ut i rapporten –det kommer litt an på hva det er.

\textit{
In this project, a system for recognizing handwritten mathematical symbols will be developed. The system will be used in a web application, Matistikk, that is being developed at the Department of Teacher Education in collaboration with IDI. The system will use a standard machine learning algorithm such as convolutional neural networks that represent state-of-the-art handwriting recognition. Training data must be collected from students to train the network.
}

Since the beginning of the project, some changes were made to the assignment. In the initial phase it was not known if developing a system that would work well and enrich the functionality of the web application was actually achievable. It was therefore decided to go in the direction of developing a proof of concept, which could be developed further.

After some discussion with our mentor, the project was also limited to focus on the handwriting recognition system, and not how to implement it into the web application. Creating a robust and acceptable system would require a lot of work. In addition, with no prior experience with machine learning, a considerable amount of time would be needed to research relevant topics and read about existing solutions. 

}
\clearpage % Assignment ended, start a new page 
%% ----------------------------------------------------------------
% The Abstract Page
\abstract{
\addtocontents{toc}{\vspace{1em}}  % Add a gap in the Contents, for aesthetics

In this thesis we researched different approaches for recognizing handwritten mathematical symbols and expressions. Interpreting different typographic styles has historically been a challenging task, however, recent improvements in both hardware and software for machine learning have made the task more approachable.

The purpose of the assignment was to create a module which interprets mathematical symbols and expressions. We created an example system to display how our module can be integrated into an independent system. Combined, the module and example system provide the complete functionality as specified by our project owners. 

Through our research, we explored different methods in pre- and post-processing of digital handwriting in order to best classify mathematical expressions. Our two approaches were to process drawings into images (using convolutional networks) and interpreting raw trace data (using recurrent networks). The combination of both approaches gave the best result and is the architecture used in our final model.
}

\clearpage  % Abstract ended, start a new page
%% ----------------------------------------------------------------

\setstretch{1.3}  % Reset the line-spacing to 1.3 for body text (if it has changed)

\pagestyle{fancy}  %The page style headers have been "empty" all this time, now use the "fancy" headers as defined before to bring them back


%% ----------------------------------------------------------------
\lhead{\emph{Contents}}  % Set the left side page header to "Contents"
\tableofcontents  % Write out the Table of Contents

%% ----------------------------------------------------------------
\lhead{\emph{List of Figures}}  % Set the left side page header to "List if Figures"
\listoffigures  % Write out the List of Figures

%% ----------------------------------------------------------------

%% ----------------------------------------------------------------
%\setstretch{1.5}  % Set the line spacing to 1.5, this makes the following tables easier to read
\clearpage  % Start a new page


\addtocontents{toc}{\vspace{2em}}  % Add a gap in the Contents, for aesthetics


%% ----------------------------------------------------------------
\mainmatter	  % Begin normal, numeric (1,2,3...) page numbering
\pagestyle{fancy}  % Return the page headers back to the "fancy" style

% Include the chapters of the thesis, as separate files
% Just uncomment the lines as you write the chapters


% TODO; Make sure that the subdirectory can be compiled.
%\subfile{Chapters/Chapter1_Introduction}
\input{Chapters/Chapter1_Introduction}

\input{Chapters/Chapter2_Theory} 

\input{Chapters/Chapter3_Method}

\input{Chapters/Chapter4_Results}

\input{Chapters/Chapter5_Discussion}

\input{Chapters/Chapter6_Conclusion}


%% ----------------------------------------------------------------
% Now begin the Appendices, including them as separate files

\addtocontents{toc}{\vspace{2em}} % Add a gap in the Contents, for aesthetics
\backmatter
%% ----------------------------------------------------------------
%% ----------------------------------------------------------------
\printbibliography

\clearpage
\appendix % Cue to tell LaTeX that the following 'chapters' are Appendices
%\renewcommand\thechapter{}
%\renewcommand\thesection{\arabic{section}}
%\chapter{Appendix}
%\SuspendCounters{Chapter}
%\thispagestyle{plain}


%\section{System documentation}
%\includepdf[ pages=1, width=\textwidth]{Appendices/systemdokumentasjon.pdf}
%\includepdf[ pages=2-, width=\textwidth]{Appendices/systemdokumentasjon.pdf}
%\input{Appendices/AppendixB} % Appendix Title

%\input{Appendices/AppendixC} % Appendix Title


% END
\end{document}